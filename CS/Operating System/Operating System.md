# 1. 운영 체제 개요

## 운영 체제란?
컴퓨터 하드웨어 바로 위에 설치되어 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층

## 운영 체제의 목적

### 컴퓨터 시스템을 편리하게 사용할 수 있는 환경

- 운영 체제는 동시 사용자/프로그램들이 각각 독자적(독립적) 컴퓨터에서 수행되는 것 같은 환상을 제공

- 하드웨어를 직접 다루는 복잡한 부분을 운영체제가 대신 해줌

사용자, 프로그램들은 현재 컴퓨터에서 어떻게 프로그램이 실행되고 있는지를 몰라도 된다

또한, 여러 프로그램이 동시에 실행되는 상황에서 각각 독립적으로 실행되는 것 처럼 느끼게 된다

이러한 것이 곧 환상이며, 이 중간 역할을 운영체제가 수행한다

- 여기서 사용자는 사람일 수도 있지만, Client를 의미한다고 생각하자

### 컴퓨터 시스템의 자원을 효율적으로 관리

- CPU, Memory, I/O 장치 등을 효율적으로 관리
  - 효율성: 주어진 자원으로 최대한의 성능
  - 형평성: 특정 사용자/프로그램의 지나친 불이익이 발생하지 않도록
- 사용자 및 운영 체제 자신 보호

## 컴퓨터 시스템의 구조

- 컴퓨터 내부
  - CPU
  - 메모리
- 입출력(I/O) 디바이스
  - 디스크
  - 기타 입출력 장치

## 운영 체제의 기능

### CPU 스케줄링
컴퓨터가 실행되면 **부트 스트랩**이 운영 체제를 메인 메모리에 올린다

CPU는 매 클럭마다 메모리 어딘가의 기계어를 연산한다

운영 체제의 중요한 기능 중 하나인 **CPU 스케줄링**

하드웨어 관리는 운영 체제를 통해 이루어진다

운영 체제가 CPU 사용 권한을 메모리 내의 다른 프로그램에 넘기게 되면, 운영 체제도
더 이상 간섭할 권한이 사라진다

따라서 하드웨어적 도움을 받아 CPU의 사용을 컨트롤한다

#### FCFS(First Come First Serve)

먼저 온 것부터 처리

같은 작업이어도 오는 순서에 따라 대기시간의 차이가 벌어진다

#### SJF(Shortest Job First)
CPU 사용 시간이 가장 짧은 프로세스를 먼저 스케줄
(평균 대기시간이 가장 짧다)

SJF는 minimum average wating time을 보장

Starvation(기아 현상) 발생 가능:
- 사용 시간이 높은 프로그램이 계속 뒤로 밀려 무한정 대기 상태가 될 수 있다

#### RR(Round Robin)

각 프로세스는 동일 크기의 CPU 할당 시간을 가짐

할당 시간이 끝나면 인터럽트가 발생하고, CPU의 맨 뒤의 큐에 줄 섬

선점형 스케줄링 방법

하드웨어적 도움을 받음(인터럽트)

대기시간이 프로세스 CPU 사용 시간에 비례한다

어떠한 프로세스도 (n-1) * 할당시간 이상 기다리지 않는다

### 메모리 관리

한정된 메모리 공간을 프로그램에 분배 결정

#### 메모리

프로그램을 실행하면, 프로그램이 메모리에 올라갈 메모리 주소가 생긴다

그 뒤 가상 메모리에 자신의 메모리 공간을 형성한다

전원이 나가면 꺼진다

#### 가상 메모리

#### 디스크(스왑 영역)

물리적 메모리 공간이 가득 차게 되면 저장할 공간이 필요하다

메모리의 연장 공간

전원이 나가도 살아는 있으나, 의미가 없는 정보가 담겨있기에 지워버려도 무방하다

#### 디스크(파일 시스템)

비휘발성으로 필요 정보들을 저장한다

#### LRU(Least Recently Used)

가장 오래 전에 참조가 이루어진 페이지 내보내기

#### LFU(Least Frequently Used)

가장 사용하지 않은 페이지 내보내기

### 디스크 스케줄링

디스크는 CPU에 비해 100만 배 정도 느리다

메모리는 CPU에 비해 100배 정도 느리다

이런 GAP을 매우기 위해, 캐시 또는 중첩 파이프 라이닝 등을 사용한다

디스크는 원판형으로 생겨있다

디스크 헤드가 트랙을 이동하며 데이터를 읽어온다

헤드 이동 거리를 줄이는 방향으로 스케줄링 필요

#### 디스크 접근 시간(Access time)
- 탐색 시간(Seek Time)
  - 헤드를 해당 트랙(실린더)로 움직이는데 걸리는 시간
- 회전 지연(Rotational latency)
  - 헤드가 원하는 섹터에 도달하기까지 걸리는 시간
- 전송 시간(Transfer time)
  - 실제 데이터의 전송 시간

디스크 스케줄링(Disk Scheduling): Seek Time을 최소화 하는 것이 목표

#### FCFS

들어오는 순서대로 처리

#### SSTF(Shortest Seek Time First)

기아 문제가 생길 수 있음

#### SCAN

한 쪽 끝에서 다른 끝으로 이동하면서 모든 요청을 처리

끝에 도달하면 역방향으로 이동하며 모든 요청 처리

### 인터럽트, 캐싱

빠른 CPU와 I/O 장치 사이의 속도 차이를 극복하는 방법

### 플래시 메모리

가볍고, 충격에 강하다

작고, 비 휘발성이며, 전기를 덜 잡아먹는다

